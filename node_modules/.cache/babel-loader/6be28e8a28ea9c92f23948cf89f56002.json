{"ast":null,"code":"import _objectSpread from \"/Users/admin/Desktop/p/hackaton/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/admin/Desktop/p/hackaton/my-app/src/calendar/calendar.jsx\";\nimport React from 'react';\nimport './calendar.css';\nimport '../pop-up/pop-up.css';\nimport { PopUp } from \"../pop-up/pop-up\";\nimport Button from \"react-bootstrap/Button\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport DropdownButton from \"react-bootstrap/DropdownButton\";\nimport { Weekly } from \"../Weekly/Weekly\";\nimport { Monthly } from \"../Monthly/Monthly\";\nimport { Year } from \"../Year/Year\";\n\nconst daysInMonth = function (date) {\n  return 32 - new Date(date.getFullYear(), date.getMonth(), 32).getDate();\n};\n\nlet monthName = [\"Січень\", \"Лютий\", \"Березнь\", \"Квітень\", \"Травень\", \"Червень\", \"Липень\", \"Серпень\", \"Вересень\", \"Жовтень\", \"Листопад\", \"Грудень\"];\n\nfunction createCalendar(year, month) {\n  let body = [];\n  let date = new Date(year, month);\n  let startPosisiton = 0;\n\n  if (date.getDay() === 0) {\n    startPosisiton = 7;\n  } else {\n    startPosisiton = date.getDay();\n  }\n\n  for (let i = 1; i < startPosisiton; i++) {\n    body.push('');\n  }\n\n  for (let i = 1; i <= daysInMonth(date); i++) {\n    let getCurrentDay = new Date(year, month, i);\n    let date = {\n      dateNumber: i,\n      fullDate: \"\".concat(getCurrentDay.getDate(), \".\").concat(getCurrentDay.getMonth(), \".\").concat(getCurrentDay.getFullYear())\n    };\n    body.push(date);\n  }\n\n  for (let i = daysInMonth(date) + startPosisiton - 1; i % 7; i++) {\n    body.push('');\n  }\n\n  console.log(body);\n  return body;\n} // let tasks = {};\n\n\nexport class Calendar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      month: new Date().getMonth(),\n      year: new Date().getFullYear(),\n      isModalOpened: false,\n      openedDate: null,\n      tasks: JSON.parse(window.localStorage.getItem(\"tasks\")) || {},\n      typeOfView: window.localStorage.getItem(\"typeOfView\") || \"month\"\n    };\n    this.moveForward = this.moveForward.bind(this);\n    this.movePrevious = this.movePrevious.bind(this);\n    this.currentMonth = this.currentMonth.bind(this);\n    this.openModal = this.openModal.bind(this);\n    this.cancelButton = this.cancelButton.bind(this);\n    this.saveButton = this.saveButton.bind(this);\n    this.renderTasks = this.renderTasks.bind(this);\n  }\n\n  renderTasks(date) {\n    let renderTask;\n\n    if (this.state.tasks[date]) {\n      renderTask = this.state.tasks[date].map(task => {\n        return React.createElement(\"li\", {\n          className: 'calendar__task',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, task.title);\n      });\n    } else {\n      return;\n    }\n\n    return renderTask;\n  }\n\n  openModal(openedDate) {\n    this.setState(state => ({\n      isModalOpened: true,\n      openedDate: openedDate\n    }));\n  }\n\n  saveButton(task) {\n    this.setState(state => ({\n      isModalOpened: false\n    }));\n\n    if (task !== '') {\n      if (this.state.tasks[this.state.openedDate]) {\n        this.state.tasks[this.state.openedDate].push({\n          title: task\n        });\n        window.localStorage.setItem(\"tasks\", JSON.stringify(_objectSpread({}, this.state.tasks)));\n      } else {\n        this.state.tasks[this.state.openedDate] = [];\n        this.state.tasks[this.state.openedDate].push({\n          title: task\n        });\n        window.localStorage.setItem(\"tasks\", JSON.stringify(_objectSpread({}, this.state.tasks)));\n      }\n    }\n  }\n\n  cancelButton() {\n    this.setState(state => ({\n      isModalOpened: false\n    }));\n  }\n\n  moveForward() {\n    this.setState(state => ({\n      month: state.month + 1\n    }));\n\n    if (this.state.month > 10) {\n      this.setState(state => ({\n        month: 0,\n        year: state.year + 1\n      }));\n    }\n  }\n\n  movePrevious() {\n    this.setState(state => ({\n      month: state.month - 1\n    }));\n\n    if (this.state.month < 1) {\n      this.setState(state => ({\n        month: 11,\n        year: state.year - 1\n      }));\n    }\n  }\n\n  currentMonth() {\n    this.setState(state => ({\n      month: new Date().getMonth(),\n      year: new Date().getFullYear()\n    }));\n  }\n\n  handleChangeOfView(event) {\n    this.setState({\n      typeOfView: event.target.value\n    });\n    window.localStorage.setItem(\"typeOfView\", event.target.value);\n  }\n\n  render() {\n    const calendarDays = createCalendar(this.state.year, this.state.month);\n    return React.createElement(\"div\", {\n      className: 'main',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"calendar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"calendar__buttons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"light\",\n      onClick: this.movePrevious,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \" < \"), React.createElement(Button, {\n      variant: \"light\",\n      onClick: this.moveForward,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \" > \"), React.createElement(Button, {\n      onClick: this.currentMonth,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, \"\\u0421\\u044C\\u043E\\u0433\\u043E\\u0434\\u043D\\u0456\")), React.createElement(\"select\", {\n      onChange: this.handleChangeOfView,\n      defaultValue: this.state.typeOfView,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"week\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"\\u0422\\u0438\\u0436\\u0434\\u0435\\u043D\\u044C\"), React.createElement(\"option\", {\n      value: \"month\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, \"\\u041C\\u0456\\u0441\\u044F\\u0446\\u044C\"), React.createElement(\"option\", {\n      value: \"year\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, \"\\u0420\\u0456\\u043A\")), () => {\n      switch (this.state.typeOfView) {\n        case 'week':\n          return React.createElement(Weekly, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 169\n            },\n            __self: this\n          });\n      }\n    }, React.createElement(Weekly, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }), React.createElement(Monthly, {\n      month: this.state.month,\n      year: this.state.year,\n      calendarDays: calendarDays,\n      openModal: this.openModal,\n      renderTasks: this.renderTasks,\n      monthName: monthName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }), React.createElement(Year, {\n      year: this.state.year,\n      calendarDays: calendarDays,\n      openModal: this.openModal,\n      renderTasks: this.renderTasks,\n      monthName: monthName,\n      createCalendar: createCalendar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    })), this.state.isModalOpened ? React.createElement(PopUp, {\n      openModal: this.openModal,\n      cancelButton: this.cancelButton,\n      saveButton: this.saveButton,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }) : null);\n  }\n\n}","map":{"version":3,"sources":["/Users/admin/Desktop/p/hackaton/my-app/src/calendar/calendar.jsx"],"names":["React","PopUp","Button","Dropdown","DropdownButton","Weekly","Monthly","Year","daysInMonth","date","Date","getFullYear","getMonth","getDate","monthName","createCalendar","year","month","body","startPosisiton","getDay","i","push","getCurrentDay","dateNumber","fullDate","console","log","Calendar","Component","constructor","props","state","isModalOpened","openedDate","tasks","JSON","parse","window","localStorage","getItem","typeOfView","moveForward","bind","movePrevious","currentMonth","openModal","cancelButton","saveButton","renderTasks","renderTask","map","task","title","setState","setItem","stringify","handleChangeOfView","event","target","value","render","calendarDays"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './calendar.css';\nimport '../pop-up/pop-up.css';\nimport {PopUp} from \"../pop-up/pop-up\";\nimport Button from \"react-bootstrap/Button\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport DropdownButton from \"react-bootstrap/DropdownButton\";\nimport {Weekly} from \"../Weekly/Weekly\";\nimport {Monthly} from \"../Monthly/Monthly\";\nimport {Year} from \"../Year/Year\";\n\nconst daysInMonth = function (date) {\n    return 32 - new Date(date.getFullYear(), date.getMonth(), 32).getDate();\n};\n\nlet monthName = [\"Січень\", \"Лютий\", \"Березнь\", \"Квітень\", \"Травень\", \"Червень\", \"Липень\", \"Серпень\", \"Вересень\", \"Жовтень\", \"Листопад\", \"Грудень\"];\n\nfunction createCalendar(year, month) {\n    let body = [];\n    let date = new Date(year, month);\n    let startPosisiton = 0;\n    if (date.getDay() === 0) {\n        startPosisiton = 7;\n    } else {\n        startPosisiton = date.getDay();\n    }\n    for (let i = 1; i < startPosisiton; i++) {\n        body.push('');\n    }\n    for (let i = 1; i <= daysInMonth(date); i++) {\n        let getCurrentDay = new Date(year, month, i);\n        let date = {\n            dateNumber: i,\n            fullDate: `${getCurrentDay.getDate()}.${getCurrentDay.getMonth()}.${getCurrentDay.getFullYear()}`\n        };\n        body.push(date);\n    }\n    for (let i = daysInMonth(date) + startPosisiton - 1; i % 7; i++) {\n        body.push('');\n    }\n    console.log(body);\n    return body;\n}\n\n// let tasks = {};\n\nexport class Calendar extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            month: new Date().getMonth(),\n            year: new Date().getFullYear(),\n            isModalOpened: false,\n            openedDate: null,\n            tasks: JSON.parse(window.localStorage.getItem(\"tasks\")) || {},\n            typeOfView: window.localStorage.getItem(\"typeOfView\") || \"month\",\n        };\n\n        this.moveForward = this.moveForward.bind(this);\n        this.movePrevious = this.movePrevious.bind(this);\n        this.currentMonth = this.currentMonth.bind(this);\n        this.openModal = this.openModal.bind(this);\n        this.cancelButton = this.cancelButton.bind(this);\n        this.saveButton = this.saveButton.bind(this);\n        this.renderTasks = this.renderTasks.bind(this);\n    };\n\n    renderTasks(date) {\n        let renderTask;\n        if (this.state.tasks[date]) {\n            renderTask = this.state.tasks[date].map((task) => {\n                return <li className={'calendar__task'}>{task.title}</li>\n            })\n        } else {\n            return\n        }\n        return renderTask;\n    }\n\n    openModal(openedDate) {\n        this.setState(state => ({\n            isModalOpened: true,\n            openedDate: openedDate,\n        }));\n    }\n\n    saveButton(task) {\n        this.setState(state => ({isModalOpened: false}));\n\n\n        if (task !== '') {\n            if (this.state.tasks[this.state.openedDate]) {\n                this.state.tasks[this.state.openedDate].push({title: task});\n                window.localStorage.setItem(\"tasks\", JSON.stringify({...this.state.tasks}));\n            } else {\n                this.state.tasks[this.state.openedDate] = [];\n                this.state.tasks[this.state.openedDate].push({title: task});\n                window.localStorage.setItem(\"tasks\", JSON.stringify({...this.state.tasks}));\n            }\n        }\n    }\n\n    cancelButton() {\n        this.setState(state => ({isModalOpened: false}));\n    }\n\n    moveForward() {\n        this.setState(state => ({\n            month: state.month + 1\n        }));\n\n        if (this.state.month > 10) {\n            this.setState(state => ({\n                month: 0,\n                year: state.year + 1\n            }));\n        }\n    }\n\n    movePrevious() {\n        this.setState(state => ({\n            month: state.month - 1\n        }));\n\n        if (this.state.month < 1) {\n            this.setState(state => ({\n                month: 11,\n                year: state.year - 1\n            }));\n        }\n    }\n\n    currentMonth() {\n        this.setState(state => ({\n            month: new Date().getMonth(),\n            year: new Date().getFullYear()\n        }))\n    }\n\n    handleChangeOfView(event) {\n        this.setState({\n            typeOfView: event.target.value\n        });\n        window.localStorage.setItem(\"typeOfView\", event.target.value);\n    }\n\n    render() {\n        const calendarDays = createCalendar(this.state.year, this.state.month);\n        return (<div className={'main'}>\n            <div className=\"calendar\">\n                <div className=\"calendar__buttons\">\n                    <Button variant=\"light\" onClick={this.movePrevious}> &lt; </Button>\n                    <Button variant=\"light\" onClick={this.moveForward}> > </Button>\n                    <Button onClick={this.currentMonth}>Сьогодні</Button>\n                </div>\n                <select\n                    onChange={this.handleChangeOfView}\n                    defaultValue={this.state.typeOfView}\n                >\n                    <option value={\"week\"}>Тиждень</option>\n                    <option value={\"month\"}>Місяць</option>\n                    <option value={\"year\"}>Рік</option>\n                </select>\n\n                {\n                    (() => {\n                      switch (this.state.typeOfView) {\n                          case 'week':\n                              return <Weekly/>\n                      }\n                    })\n                }\n\n\n                <Weekly/>\n                <Monthly\n                    month={this.state.month}\n                    year={this.state.year}\n                    calendarDays={calendarDays}\n                    openModal={this.openModal}\n                    renderTasks={this.renderTasks}\n                    monthName={monthName}\n                />\n\n                <Year\n                    year={this.state.year}\n                    calendarDays={calendarDays}\n                    openModal={this.openModal}\n                    renderTasks={this.renderTasks}\n                    monthName={monthName}\n                    createCalendar={createCalendar}/>\n\n\n            </div>\n            {this.state.isModalOpened ? <PopUp openModal={this.openModal}\n                                               cancelButton={this.cancelButton}\n                                               saveButton={this.saveButton}/> : null}\n        </div>)\n    };\n}\n\n"]},"metadata":{},"sourceType":"module"}